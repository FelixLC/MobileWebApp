<nav-page title="mytitle" id="Vinify">

   <content has-header="true" has-footer="true" overflow-scroll="true">
    <div class="row">
         <h3>Action </h3>
        <select ng-model="action" ng-name="action" ng-options="action for action in actionlist">
        </select>
       </div>
     <div id="AdminFormContainer">

        <form name="PostVinibar" ng-show="action == 'PostVinibar'">

          <div class="row">
            <div class="col">
              <h4>Username</h4>
                <select ng-model="A[0]" ng-name="username" ng-options="user.email as user.email for user in users | orderBy:'email'">
                </select>
            </div>

            <div class="col">
                <div ng-repeat="number in winenumber">
                  <h4>{{number}}</h4>
                    <select ng-model="A[$index+1]" ng-name="a[$index+1]" ng-options="item.id as item.display_name for item in WINES | orderBy:'display_name'">
                    </select>
                </div>
            </div>

            <div class="col">
                <button class="button button-positive" id="PostVinibar" ng-click="PostWines()">Create Vinibar</button>
            </div>

          </div>
        </form>

        <form name="PostVinibar" ng-show="action == 'PostRefill'">

          <div class="row">
            <div class="col">
              <h4>Username</h4>
                <select ng-model="B[0]" ng-name="username" ng-options="user.email as user.email for user in users | orderBy:'email'">
                </select>
            </div>

            <div class="col">
                <div ng-repeat="number in winerefillnumber">
                  <h4>{{number}}</h4>
                    <select ng-model="B[$index+1]" ng-name="B[$index+1]" ng-options="item.id as item.display_name for item in WINES | orderBy:'display_name'">
                    </select>
                </div>
            </div>

            <div class="col">
                <button class="button button-positive" id="PostVinibar" ng-click="PostRefill()">Post Refill</button>
            </div>

          </div>
        </form>

        <form name="PostVinibar" ng-show="action == 'PostBottle'">

          <div class="row">
            <div class="col">
              <h4>Username</h4>
                <select ng-model="C[0]" ng-name="username" ng-options="user.email as user.email for user in users | orderBy:'email'">
                </select>
            </div>

            <div class="col">
                <div ng-repeat="number in winebottlenumber">
                  <h4>{{number}}</h4>
                    <select ng-model="C[$index+1]" ng-name="C[$index+1]" ng-options="item.id as item.display_name for item in WINES | orderBy:'display_name'">
                    </select>
                </div>
            </div>

            <div class="col">
                <button class="button button-positive" id="PostVinibar" ng-click="PostBottle()">Post Bottle</button>
            </div>

          </div>
        </form>

        <form name="PostVinibar" ng-show="action == 'PopulateWines'">

          <div class="row">
            <div class="col">
              <h4>Wine</h4>
                <select ng-model="D[0]" ng-name="winename" ng-options="item.id as item.display_name for item in WINES | orderBy:'display_name'">
                </select>
            </div>

            <div class="col">
                  <h4>Description</h4>
                    <input ng-model="D[1]" ng-name="description">
                    </select>
            </div>

            <div class="col">
                  <h4>Dégustation</h4>
                    <input ng-model="D[2]" ng-name="degust">
                    </select>
            </div>

            <div class="col">
              <h4>Température</h4>
                <select ng-model="D[3]" ng-name="temp" ng-options="item for item in temps">
                </select>
            </div>

            <div class="col">
              <h4>Carafage</h4>
                <input ng-model="D[4]" ng-name="caraf" type="checkbox">
            </div>

            <div class="col">
                <button class="button button-positive" id="PostVinibar" ng-click="PopulateWines()">PopulateWine</button>
            </div>

          </div>
        </form>

        <div ng-show="action == 'ClientsOverview'">

          <div class="row">
            <!-- <div class="col">
              <h4>Client</h4>
                <select ng-name="username" ng-model="client" ng-options="client.username for client in clientsoverview | orderBy:'id'">
                </select>
            </div>

            <div class="col">
                <h4>
                  Le Client {{client.username}} à noté {{client.rating_count}} bouteilles et a {{client.bottle_count}} dans son Vinibar.
                </h4>
            </div> -->

          


            <table class="table table-striped table-condensed table-hover">
                <thead>
                    <tr>
                        <th class="id">Id&nbsp;</th>
                        <th class="user">User&nbsp;</th>
                        <th class="name">Rated Bottles&nbsp;</th>
                        <th class="description">Bottles Left&nbsp;</a></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="client in clientsoverview | orderBy:name">
                        <td>{{client.id}}&nbsp;&nbsp;</td>
                        <td>{{client.username}}&nbsp;&nbsp;</td>
                        <td>{{client.rating_count}}&nbsp;&nbsp;</td>
                        <td>{{client.bottle_count}}&nbsp;&nbsp;</td>
                    </tr>
                </tbody>
            </table>

          </div>
        </div>

        <div ng-show="action == 'UserRatings'">

            <div class="row">
                <div class="col">
                  <h4>Username</h4>
                    <select ng-model="E[0]" ng-name="username" ng-options="user.email as user.email for user in users | orderBy:'email'">
                    </select>
                </div>
            </div>

            <div class="col">
                <button class="button button-positive" id="PostVinibar" ng-click="GetUserRatings()">Show Ratings</button>
            </div>
          
            <div class="row">
                <table class="table table-striped table-condensed table-hover">
                    <thead>
                        <tr>
                            <th class="wine">Wine&nbsp;&nbsp;</th>
                            <th class="id">Rating&nbsp;&nbsp;</th>
                            <th class="get">GetMore&nbsp;&nbsp;</th>
                            <th class="user">Commentaire&nbsp;&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="bottle in G">
                            <td>{{bottle.wine.display_name}}&nbsp;&nbsp;</td>
                            <td>{{bottle.rating}}&nbsp;&nbsp;&nbsp;&nbsp;</td>
                            <td>{{bottle.get_more}}&nbsp;&nbsp;&nbsp;&nbsp;</td>
                            <td>{{bottle.comment}}&nbsp;&nbsp;&nbsp;&nbsp;</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <div ng-show="action == 'WineRatings'">

            <div class="row">
                <div class="col">
                  <h4>Wine</h4>
                    <select ng-model="F[0]" ng-name="wine" ng-options="wine.id as wine.display_name for wine in WINES | orderBy:'display_name'">
                    </select>
                </div>

                <div class="col">
                    <button class="button button-positive" id="PostVinibar" ng-click="GetWineRatings()">Show Ratings</button>
                </div>
            </div>

            <div class="row">
                <table class="table table-striped table-condensed table-hover">
                    <thead>
                        <tr>
                            <th class="id">Rating&nbsp;&nbsp;</th>
                            <th class="user">Commentaire&nbsp;&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="bottle in H">
                            <td>{{bottle.rating}}&nbsp;&nbsp;</td>
                            <td>{{bottle.comment}}&nbsp;&nbsp;</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

      </div>
          
  </content>
</nav-page>